
<form *ngIf="!loading" [formGroup]="registerForm" (ngSubmit)="handleRegistration()" class="rounded shadow w-75 mx-auto bg-main-light p-3 mt-4">

    <div class="form-item mt-1">
        <label for="name">Name</label>
        <input type="text" id="name" placeholder="Abdalrhaman Mahfouz" formControlName="name" class="form-control">
        <div class="alert alert-danger p-1 " *ngIf="registerForm.get('name')?.errors && registerForm.get('name')?.touched ">
            <p class="m-0" *ngIf="registerForm.get('name')?.getError('required')">Name is required. </p>
            <p class="m-0"  *ngIf="registerForm.get('name')?.getError('maxlength')"> The MaxLength is  30 characters.</p>
            <p class="m-0" *ngIf="registerForm.get('name')?.getError('minlength')">The Minimum is 3 characters.</p>
        </div>
    </div>

    <div class="form-item mt-1">
        <label for="email">Email</label>
        <input type="email" id="email" placeholder="abdalrhamanmahfouz@gmail.com" formControlName="email" class="form-control">
        <div class="alert alert-danger p-1 " *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched ">
            <p class="m-0" *ngIf="registerForm.get('email')?.getError('required')">Email is required. </p>
            <p class="m-0"  *ngIf="registerForm.get('email')?.getError('email')"> Invalid email.</p>
        </div>
    </div>

    <div class="form-item mt-1">
        <label for="password">Password</label>
        <input [type]="changetype?'password':'text'" id="password" placeholder="Pa$$w0rd!!!" formControlName="password" class="form-control">
        <span class="eyeicon position-absolute eyeicon" (click)="viewpass()"><i [ngClass]="visible?'fa fa-eye':'fa fa-eye-slash'"></i> </span>
        <div class="alert alert-danger p-1 " *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched ">
            <p class="m-0" *ngIf="registerForm.get('password')?.getError('required')">Password is required. </p>
            <p class="m-0"  *ngIf="registerForm.get('password')?.getError('pattern')"> Password should contains
                at least one uppercase letter, one lowercase letter, one digit, and one non-alphanumeric character.</p>
        </div>
    </div>

    <div class="form-item mt-1">
        <label for="rePassword">Password Confirmation</label>
        <input [type]="changetypere?'password':'text'" id="rePassword" placeholder="Pa$$w0rd!!!" formControlName="rePassword" class="form-control">
       <span class="eyeicon position-absolute eyeicon" (click)="viewrepass()"><i [ngClass]="visiblere?'fa fa-eye':'fa fa-eye-slash'"></i> </span>
       <div class="alert alert-danger p-1 " *ngIf="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched ">
        <p class="m-0" *ngIf="registerForm.get('rePassword')?.getError('required')">Password Confirmation is required. </p>
        <p class="m-0"  *ngIf="registerForm.get('rePassword')?.getError('pattern')"> Password should contains
            at least one uppercase letter, one lowercase letter, one digit, and one non-alphanumeric character.</p>
    </div>

    </div>

    <div class="form-item mt-1 mb-2">
        <label for="phone">Phone</label>
        <input type="tel" id="phone" formControlName="phone" placeholder="+201146399576" class="form-control">
        <div class="alert alert-danger p-1 " *ngIf="registerForm.get('phone')?.errors && registerForm.get('phone')?.touched ">
            <p class="m-0" *ngIf="registerForm.get('phone')?.getError('required')">Phone is required. </p>
            <p class="m-0"  *ngIf="registerForm.get('phone')?.getError('pattern')">Phone Must be an egyption number.</p>
        </div>
    </div>


    <button *ngIf="!isLoding" [disabled]="registerForm.invalid" type="submit" class="main-btn">Register</button>
    <span class="main-btn " *ngIf="isLoding"><i class="fas fa-spin fa-spinner"></i></span>

    <a class="text-decoration-none ms-4 main-color fw-bold" routerLink="/Login">Aleardy have an account </a>
</form>

<app-loader *ngIf="loading"></app-loader>